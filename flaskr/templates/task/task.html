<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ìˆ˜í–‰í‰ê°€ | KHHSLINK</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/task.css') }}"
    />
  </head>
  <body>
    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="header">
      <div class="header-left logo">
        <img src="logo.png" alt="ë¡œê³ " />
      </div>

      <h1 class="header-title">ìˆ˜í–‰í‰ê°€</h1>

      <div class="header-right mypage">
        <a herf="mypage/mypage" class="mypage">
          <img src="profile-icon.png" alt="ë§ˆì´í˜ì´ì§€" class="profile-icon" />
        </a>
      </div>
    </header>

    <!-- ê²€ìƒ‰ ë° í•„í„° ì„¹ì…˜ -->
    <section class="filter-section">
      <div class="search-bar">
        <input type="text" placeholder="ìˆ˜í–‰í‰ê°€ ê²€ìƒ‰..." />
        <button class="search-btn">ğŸ”</button>
      </div>

      <div class="filter-options">
        <select id="subject-filter">
          <option value="all">ì „ì²´ ê³¼ëª©</option>
          <option value="korean">êµ­ì–´</option>
          <option value="english">ì˜ì–´</option>
          <option value="math">ìˆ˜í•™</option>
          <option value="science">ê³¼í•™</option>
          <option value="history">ì—­ì‚¬</option>
          <option value="history">ì •ë³´</option>
          <option value="history">ì‚¬íšŒ</option>
          <option value="history">ì¼ë³¸ì–´</option>
        </select>

        <select id="teacher-filter">
          <option value="all">ì „ì²´ êµì‚¬</option>
          <option value="kim">option</option>
          <option value="lee">option2</option>
          <option value="park">option1</option>
        </select>

        <select id="sort-filter">
          <option value="deadline">ë§ˆê°ì¼ìˆœ</option>
          <option value="recent">ìµœê·¼ë“±ë¡ìˆœ</option>
        </select>
      </div>
    </section>

    <!-- ìˆ˜í–‰í‰ê°€ ë¦¬ìŠ¤íŠ¸ -->
    <main class="task-list">
      {% for post in posts %}
      <a href="{{ post.link }}" class="task-card-link" target="_blank">
        <div
          class="task-card {% if post.status == 'ë§ˆê°' %}completed{% elif post.status == 'ì œì¶œ' %}completed{% else %}ongoing{% endif %}"
        >
          <div class="task-header">
            <h3>{{ post.title }}</h3>
            <span
              class="status {% if post.status == 'ë§ˆê°' %}completed{% elif post.status == 'ì œì¶œ' %}completed{% else %}ongoing{% endif %}"
            >
              {% if post.status == 'ë§ˆê°' %}ë§ˆê° {% elif post.status == 'ì œì¶œ'
              %}ì œì¶œ ì™„ë£Œ {% else %}ì§„í–‰ ì¤‘{% endif %}
            </span>
          </div>
          <p>ë§ˆê°ì¼: {{ post.date }}</p>
          <p>ë‹´ë‹¹: {{ post.teacher }} ì„ ìƒë‹˜</p>
        </div>
      </a>
      {% endfor %} {% if not posts %}
      <div class="task-card">
        <div class="task-header">
          <h3>ìˆ˜í–‰í‰ê°€ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
        </div>
        <p>í˜„ì¬ ë“±ë¡ëœ ìˆ˜í–‰í‰ê°€ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
      </div>
      {% endif %}
    </main>

    <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
    <div class="pagination">
      <button onclick="setPage(1)">1</button>
      <button onclick="setPage(2)">2</button>
      <button onclick="setPage(3)">3</button>
      <button onclick="setPage(4)">4</button>
      <button onclick="setPage(5)">5</button>
      <button onclick="setPage(6)">6</button>
      <button onclick="setPage(7)">7</button>
      <button onclick="setPage(8)">8</button>
      <button onclick="setPage(9)">9</button>
      <button onclick="setPage(10)">10</button>
    </div>

    <script>
      function setPage(page) {
        const params = new URLSearchParams(window.location.search);
        params.set("page", page);
        window.location.search = params.toString();
      }
    </script>

    <!--í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜-->
    <nav class="bottom-nav">
      <a href="/" class="nav-item">
        <span>í™ˆ</span>
      </a>

      <a href="notice" class="nav-item">
        <span>ê³µì§€</span>
      </a>

      <a href="alert" class="nav-item">
        <span>ì•Œë¦¼</span>
      </a>

      <a href="/task" class="nav-item active">
        <span>ìˆ˜í–‰</span>
      </a>

      <a href="study" class="nav-item">
        <span>í•™ìŠµ</span>
      </a>
    </nav>
  </body>
</html>
